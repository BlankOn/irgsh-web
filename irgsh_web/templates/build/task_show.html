{% extends "build/base.html" %}
{% load i18n %}
{% load irgsh_tags %}

{% block content %}
<div id="task-page">
<h1>{% blocktrans with task.task_id as task_id %}Build task <code>{{ task_id }}</code>{% endblocktrans %}</h1>

<table class="vertical" id="task-info">
<tr><th class="span-2">{% trans "Task status" %}</th>
    <td>{{ task.get_status_display }}</td>
</tr>
<tr><th>{% trans "Architecture" %}</th>
    <td>{{ task.architecture.name }}</td>
</tr>
<tr><th>{% trans "Created" %}</th>
    <td>{{ task.created|full_datetime_or_age }}</td>
</tr>
<tr><th>{% trans "Build" %}</th>
    <td><a href="{{ build.get_absolute_url }}">{{ build.id }}</a></td>
</tr>
<tr><th>{% trans "Build status" %}</th>
    <td>{{ build.get_status_display }}</td>
</tr>
<tr><th>{% trans "Package" %}</th>
    <td>{{ build.package.name }}</td>
</tr>
<tr><th>{% trans "Version" %}</th>
    <td>{{ build.version }}</td>
</tr>
<tr><th>{% trans "Builder" %}</th>
    <td><a href="{{ task.builder.get_absolute_url }}">{{ task.builder.name }}</a></td>
</tr>
<tr><th>{% trans "Assigned" %}</th>
    <td>{{ task.assigned|full_datetime_or_age }}</td>
</tr>
<tr><th>{% trans "Updated" %}</th>
    <td>{{ task.updated|full_datetime_or_age }}</td>
</tr>
</table>

{% if logs %}
<h2>{% trans "Logs" %}</h2>
<table id="task-logs">
<tr><th>{% trans "Timestamp" %}</th>
    <th>{% trans "Message" %}</th>
</tr>
{% for log in logs %}
<tr><td>{{ log.created|datetime_or_age }}</td>
    <td>{{ log }}</td>
</tr>
{% endfor %}
</table>
{% endif %}

</div>
{% endblock %}

